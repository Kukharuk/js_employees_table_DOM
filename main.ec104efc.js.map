{"version":3,"sources":["scripts/main.js"],"names":["tbody","document","querySelector","table","th","querySelectorAll","previous","cell","setAttribute","toNumber","string","slice","split","filter","el","join","stringCompare","a","b","child","result","children","textContent","localeCompare","sort","ev","tr","tableContent","length","targetDataAtr","target","dataset","asc","innerHTML","innerText","row","append","addEventListener","handlerSelect","getElementsByTagName","classList","contains","remove","parentElement","add","pushNotification","posTop","posRight","title","description","type","div","createElement","h2","p","className","style","top","right","whiteSpace","body","setTimeout","insertAdjacentHTML","button","validate","preventDefault","form","forms","element","elements","nameElem","name","value","position","office","salary","age","trim","toUpperCase","toLowerCase","Intl","NumberFormat","format","reset","text","input","focus","officeCity","cellIndex","columnName","rows","replaceWith","includes","enter","key","blur"],"mappings":"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","file":"main.ec104efc.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tbody = document.querySelector('tbody');\nconst table = document.querySelector('table');\nconst th = document.querySelectorAll('th');\nlet previous = '';\n\nfor (const cell of th) {\n  cell.setAttribute('data-Asc', true);\n}\n\nfunction toNumber(string) {\n  const number = string.slice(1).split('').filter(el => el !== ',').join('');\n\n  return +number;\n}\n\nfunction stringCompare(a, b, child) {\n  const result\n  = a.children[child].textContent.localeCompare(b.children[child].textContent);\n\n  return result;\n}\n\nconst sort = (ev) => {\n  const tr = document.querySelectorAll('tr');\n  const tableContent = [...tr].slice(1, tr.length - 1);\n  const targetDataAtr = ev.target.dataset.asc;\n\n  tbody.innerHTML = '';\n\n  if (targetDataAtr === 'true'\n  || (targetDataAtr === 'false' && previous !== ev.target.innerText)) {\n    switch (ev.target.innerText) {\n      case 'Name':\n        tableContent.sort((a, b) =>\n          stringCompare(a, b, 0)\n        );\n        break;\n      case 'Position':\n        tableContent.sort((a, b) =>\n          stringCompare(a, b, 1)\n        );\n        break;\n      case 'Office':\n        tableContent.sort((a, b) =>\n          stringCompare(a, b, 2)\n        );\n        break;\n      case 'Age':\n        tableContent.sort((a, b) =>\n          a.children[3].textContent - b.children[3].textContent\n        );\n        break;\n      case 'Salary':\n        tableContent.sort((a, b) =>\n          toNumber(a.children[4].textContent)\n           - toNumber(b.children[4].textContent)\n        );\n        break;\n      default:\n        break;\n    }\n\n    ev.target.dataset.asc = 'false';\n    previous = ev.target.innerText;\n  } else {\n    switch (ev.target.innerText) {\n      case 'Name':\n        tableContent.sort((a, b) =>\n          stringCompare(b, a, 0)\n        );\n        break;\n      case 'Position':\n        tableContent.sort((a, b) =>\n          stringCompare(b, a, 1)\n        );\n        break;\n      case 'Office':\n        tableContent.sort((a, b) =>\n          stringCompare(b, a, 2)\n        );\n        break;\n      case 'Age':\n        tableContent.sort((a, b) =>\n          b.children[3].textContent - a.children[3].textContent\n        );\n        break;\n      case 'Salary':\n        tableContent.sort((a, b) =>\n          toNumber(b.children[4].textContent)\n           - toNumber(a.children[4].textContent)\n        );\n        break;\n      default:\n        break;\n    }\n    ev.target.dataset.asc = 'true';\n  }\n\n  for (let row = 0; row < tableContent.length; row++) {\n    tbody.append(tableContent[row]);\n  }\n};\n\ntable.addEventListener('click', sort);\n\nconst handlerSelect = (ev) => {\n  const tr = document.getElementsByTagName('tr');\n\n  for (const row of tr) {\n    if (row.classList.contains('active')) {\n      row.classList.remove('active');\n    }\n  }\n  ev.target.parentElement.classList.add('active');\n};\n\ntbody.addEventListener('click', handlerSelect);\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const div = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  h2.textContent = title;\n  p.textContent = description;\n  h2.className = 'title';\n  div.classList.add(type);\n  div.classList.add('notification');\n  div.setAttribute('data-qa', 'notification');\n  div.style.top = `${posTop}px`;\n  div.style.right = `${posRight}px`;\n  h2.style.whiteSpace = 'nowrap';\n  div.append(h2, p);\n\n  document.body.querySelector('form').append(div);\n\n  setTimeout(() => {\n    div.remove();\n  }, 2000);\n};\n\ndocument.body.insertAdjacentHTML('beforeend', `\n<form name=\"adder\" class=\"new-employee-form\">\n    <label>Name: \n    <input \n      type=\"text\" \n      name=\"name\" \n      data-qa=\"name\" \n      required\n    >\n    </label>\n    <label>Position: \n    <input \n      type=\"text\" name=\"position\" \n      data-qa=\"position\" \n      required\n    >\n    </label>\n    <label>Office: \n      <select name=\"office\" data-qa=\"office\" required>\n        <option value=\"\"disabled selected>Choose your office</option>\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n    </label>\n    <label>Age: \n    <input \n      type=\"text\" \n      name=\"age\" \n      data-qa=\"age\" \n      required\n    >\n    </label>\n    <label>Salary: \n    <input \n      type=\"text\" \n      name=\"salary\" \n      data-qa=\"salary\" \n      required\n    >\n    </label>\n    <button>Save to table</button>\n  </form>\n`);\n\nconst button = document.querySelector('button');\nconst validate = (ev) => {\n  ev.preventDefault();\n\n  const form = document.forms[0];\n  const element = form.elements;\n  const nameElem = element.name.value;\n  const position = element.position.value;\n  const office = element.office.value;\n  const salary = element.salary.value;\n  const age = element.age.value;\n\n  if (nameElem.length <= 4 || !nameElem.trim().length) {\n    pushNotification(280, -15, 'Warning',\n      'Name has less than 4 letters.', 'warning');\n  } else if ((age < 18 || age > 90) || age.toUpperCase()\n  !== age.toLowerCase()) {\n    pushNotification(280, -15, 'Warning',\n      'Age should be between 18 and 90 and do not contain letters', 'warning');\n  } else if (!position.trim().length) {\n    pushNotification(280, -15, 'Warning',\n      'You should enter a position', 'warning');\n  } else if (!office.length) {\n    pushNotification(280, -15, 'Warning',\n      'You should choose an office', 'warning');\n  } else if (\n    salary.toUpperCase() !== salary.toLowerCase() || !salary.length\n    || salary <= 0) {\n    pushNotification(280, -15, 'Warning',\n      'Salary should contain only digits', 'warning');\n  } else {\n    tbody.insertAdjacentHTML('beforeend', `\n    <tr>\n            <td>${nameElem}</td>\n            <td>${position}</td>\n            <td>${office}</td>\n            <td>${age}</td>\n            <td>$${new Intl.NumberFormat('en-US').format(salary)}</td>\n          </tr>\n    `);\n\n    pushNotification(280, -15, 'Success',\n      'Employee added to list', 'success');\n    form.reset();\n  }\n};\n\nbutton.addEventListener('click', validate);\n\ntbody.addEventListener('dblclick', (ev) => {\n  const text = ev.target.textContent;\n  const input = document.createElement('input');\n\n  input.classList.add('cell-input');\n  input.setAttribute('type', 'text');\n  input.value = text;\n  ev.target.textContent = '';\n  ev.target.append(input);\n  input.focus();\n\n  const officeCity = [\n    'tokyo', 'singapore', 'london', 'new york', 'edinburgh', 'san francisco',\n  ];\n  const cellIndex = ev.target.cellIndex;\n  const columnName = table.rows[0].children[cellIndex].textContent;\n\n  input.addEventListener('blur', () => {\n    if (!input.value) {\n      input.replaceWith(text);\n\n      return;\n    }\n\n    if (columnName === 'Name') {\n      if (input.value.length > 4 && input.value.trim().length !== 0) {\n        input.replaceWith(input.value);\n      } else {\n        pushNotification(280, -15, 'Error',\n          'Name has less than 4 letters.', 'error');\n        input.replaceWith(text);\n      }\n    }\n\n    if (columnName === 'Salary') {\n      if (input.value.toUpperCase() === input.value.toLowerCase()\n      && input.value >= 0) {\n        input.replaceWith(`\n        $${new Intl.NumberFormat('en-US').format(input.value)}\n        `);\n      } else {\n        pushNotification(280, -15, 'Error',\n          'Salary should contain only digits', 'error');\n        input.replaceWith(text);\n      }\n    }\n\n    if (columnName === 'Office') {\n      if (officeCity.includes(input.value.toLowerCase())) {\n        input.replaceWith(input.value);\n      } else {\n        pushNotification(280, -15, 'Error',\n          'Such office does not exist', 'error');\n        input.replaceWith(text);\n      }\n    }\n\n    if (columnName === 'Age') {\n      if (input.value >= 18 && input.value <= 90 && input.value.toUpperCase()\n       === input.value.toLowerCase()) {\n        input.replaceWith(input.value);\n      } else {\n        pushNotification(280, -15, 'Error',\n          'Age should be between 18 and 90 and do not contain letters',\n          'error');\n        input.replaceWith(text);\n      }\n    }\n\n    if (columnName === 'Position') {\n      if (input.value.trim().length !== 0) {\n        input.replaceWith(input.value);\n      } else {\n        pushNotification(280, -15, 'Error',\n          'Name has less than 4 letters.', 'error');\n        input.replaceWith(text);\n      }\n    }\n  });\n\n  input.addEventListener('keypress', enter => {\n    if (enter.key === 'Enter') {\n      input.blur();\n    }\n  });\n});\n"]}